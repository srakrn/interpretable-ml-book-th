```{r, message = FALSE, warning = FALSE, echo = FALSE}
devtools::load_all()
```


# ชุดข้อมูล {#data}

ตลอดหนังสือเล่มนี้ ตัวแบบและเทคนิคทั้งหมดจะถูกใช้กับชุดข้อมูลจริงที่สามารถหาได้ออนไลน์โดยไม่มีค่าใช้จ่าย
เราจะใช้ชุดข้อมูลต่างๆ กันสำหรับงานแต่ละงาน:
การจำแนกประเภท (classification), การถดถอย (regression), และการจำแนกข้อความ

## การเช่าจักรยาน (regression) {#bike-data}
ชุดข้อมูลนี้ประกอบด้วยจำนวนการเช่าจักรยานจากบริษัทให้เช่าจักรยาน [Capital-Bikeshare](https://www.capitalbikeshare.com/) ในวอชิงตัน ดี.ซี.
พร้อมทั้งข้อมูลสภาพอากาศและฤดูกาล
บริษัท Capital-Bikeshare ได้กรุณาเปิดข้อมูลดังกล่าวให้ใช้ได้
ส่วนข้อมูลสภาพอากาศและฤดูกาลถูกเพิ่มโดย Fanaee-T and Gama (2013)[^Fanaee] 
จุดประสงค์คือเพื่อทำนายว่าจะมีจักรยานจำนวนกี่คันที่จะถูกเช่า ในวันและสภาพอากาศหนึ่ง
ข้อมูลดังกล่าวสามารถดาวน์โหลดได้จาก [UCI Machine Learning Repository](http://archive.ics.uci.edu/ml/datasets/Bike+Sharing+Dataset)

ฟีเจอร์ใหม่ถูกเพิ่มเข้าไปในชุดข้อมูลและไม่ใช่ทุกฟีเจอร์ต้นฉบับที่ถูกใช้สำหรับตัวอย่างในหนังสือเล่มนี้
นี่คือรายการของฟีเจอร์ที่ถูกใช้:

- จำนวนของจักรยาน จากทั้งผู้ใช้รายครั้ง (casual) และผู้ใช้ลงทะเบียน (registered)
จำนวนนี้จะถูกใช้เป็นเป้าหมายสำหรับงาน regression
- ฤดูกาล: spring, summer, fall หรือ winter
- ตัวระบุว่าวันดังกล่าวเป็นวันหยุดนักขัตฤกษ์หรือไม่
- ปี: 2011 หรือ 2012
- จำนวนวันนับจากวันที่ 01.01.2011 (วันแรกที่ปรากฏในชุดข้อมูล)
ฟีเจอร์นี้ถูกเพิ่มเข้ามาเพื่อจับแนวโน้มที่เกิดขึ้นเมื่อเวลาผ่านไป
- ตัวระบุว่าเป็นวันทำงานหรือวันสุดสัปดาห์
- ตัวระบุสภาพอากาศของวันดังกล่าว โดยเป็นค่าใดค่าหนึ่งดังต่อไปนี้:
    - clear, few clouds, partly cloudy, cloudy
    - mist + clouds, mist + broken clouds, mist + few clouds, mist
    - light snow, light rain + thunderstorm + scattered clouds, light rain + scattered clouds
    - heavy rain + ice pallets + thunderstorm + mist, snow + mist
- อุณหภูมิ หน่วยเป็นองศาเซลเซียส
- ค่าความชื้นสัมพันธ์ เป็นร้อยละ (0 ถึง 100)
- ความเร็วลม เป็นกิโลเมตรต่อชั่วโมง

สำหรับตัวอย่างในหนังสือเล่มนี้ ข้อมูลถูกปรับเปลี่ยนเล็กน้อย
R-script สำหรับแปลงข้อมูลนั้นอยู่ใน [GitHub ของหนังสือ](https://github.com/christophM/interpretable-ml-book/blob/master/R/get-bike-sharing-dataset.R) พร้อมกับตัว[แฟ้ม RData ตัวสุดท้าย](https://github.com/christophM/interpretable-ml-book/blob/master/data/bike.RData)


<!--{pagebreak}-->

## YouTube Spam Comments (Text Classification) {#spam-data}
As an example for text classification we work with 1956 comments from 5 different YouTube videos.
Thankfully, the authors who used this dataset in an article on spam classification made the data  [freely available](https://archive.ics.uci.edu/ml/datasets/YouTube+Spam+Collection) (Alberto, Lochter, and Almeida (2015)[^Alberto]).

The comments were collected via the YouTube API from five of the ten most viewed videos on YouTube in the first half of 2015. 
All 5 are music videos.
One of them is "Gangnam Style" by Korean artist Psy. 
The other artists were Katy Perry, LMFAO, Eminem, and Shakira.


Checkout some of the comments. 
The comments were manually labeled as spam or legitimate.
Spam was coded with a "1" and legitimate comments with a "0".

```{r show-dating-data-TubeSpam}
data(ycomments)
knitr::kable(ycomments[1:10, c('CONTENT', 'CLASS')])
```

You can also go to YouTube and take a look at the comment section.
But please do not get caught in YouTube hell and end up watching videos of monkeys stealing and drinking cocktails from tourists on the beach.
The Google Spam detector has also probably changed a lot since 2015.

[Watch the view-record breaking video "Gangnam Style" here](https://www.youtube.com/watch?v=9bZkp7q19f0&feature=player_embedded).

If you want to play around with the data, you can find the [RData file](https://github.com/christophM/interpretable-ml-book/blob/master/data/ycomments.RData) along with the [R-script](https://github.com/christophM/interpretable-ml-book/blob/master/R/get-SpamTube-dataset.R) with some convenience functions in the book's Github repository.

<!--{pagebreak}-->

## Risk Factors for Cervical Cancer (Classification) {#cervical}

The cervical cancer dataset contains indicators and risk factors for predicting whether a woman will get cervical cancer.
The features include demographic data (such as age), lifestyle, and medical history.
The data can be downloaded from the [UCI Machine Learning repository](https://archive.ics.uci.edu/ml/datasets/Cervical+cancer+%28Risk+Factors%29) and is described by Fernandes, Cardoso, and Fernandes (2017)[^Fernandes].

The subset of data features used in the book's examples are:

- Age in years
- Number of sexual partners
- First sexual intercourse (age in years)
- Number of pregnancies
- Smoking yes or no
- Smoking (in years)
- Hormonal contraceptives yes or no
- Hormonal contraceptives (in years)
- Intrauterine device yes or no (IUD)
- Number of years with an intrauterine device (IUD)
- Has patient ever had a sexually transmitted disease (STD) yes or no
- Number of STD diagnoses
- Time since first STD diagnosis
- Time since last STD diagnosis
- The biopsy results "Healthy" or "Cancer". Target outcome.

The biopsy serves as the gold standard for diagnosing cervical cancer.
For the examples in this book, the biopsy outcome was used as the target.
Missing values for each column were imputed by the mode (most frequent value), which is probably a bad solution, since the true answer could be correlated with the probability that a value is missing.
There is probably a bias because the questions are of a very private nature.
But this is not a book about missing data imputation, so the mode imputation will have to suffice for the examples.

To reproduce the examples of this book with this dataset, find the
[preprocessing R-script](https://github.com/christophM/interpretable-ml-book/blob/master/R/get-cervical-cancer-dataset.R) and the 
[final RData file](https://github.com/christophM/interpretable-ml-book/blob/master/data/cervical.RData) in the book's Github repository.

[^Fanaee]: Fanaee-T, Hadi, and Joao Gama. "Event labeling combining ensemble detectors and background knowledge." Progress in Artificial Intelligence. Springer Berlin Heidelberg, 1–15. doi:10.1007/s13748-013-0040-3. (2013).

[^Alberto]: Alberto, Túlio C, Johannes V Lochter, and Tiago A Almeida. "Tubespam: comment spam filtering on YouTube." In Machine Learning and Applications (Icmla), Ieee 14th International Conference on, 138–43. IEEE. (2015).

[^Fernandes]: Fernandes, Kelwin, Jaime S Cardoso, and Jessica Fernandes. "Transfer learning with partial observability applied to cervical cancer screening." In Iberian Conference on Pattern Recognition and Image Analysis, 243–50. Springer. (2017).
